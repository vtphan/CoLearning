timestamp: 2021-04-29T21:58:03.494244
CREATE TABLE "auth_user"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "username" CHAR(512) UNIQUE,
    "email" CHAR(512) UNIQUE,
    "password" CHAR(512),
    "first_name" CHAR(512),
    "last_name" CHAR(512),
    "sso_id" CHAR(512),
    "action_token" CHAR(512),
    "last_password_change" TIMESTAMP
);
success!
timestamp: 2021-04-29T21:58:03.495838
CREATE TABLE "auth_user_tag_groups"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "path" CHAR(512),
    "record_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  
);
success!
timestamp: 2021-04-29T21:58:03.498794
CREATE TABLE "topic"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "topic_description" CHAR(512) UNIQUE
);
success!
timestamp: 2021-04-29T21:58:03.500483
CREATE TABLE "problem"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "teacher_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "problem_name" CHAR(512),
    "problem_description" TEXT,
    "code" TEXT,
    "answer" TEXT,
    "max_points" INTEGER,
    "language" CHAR(512),
    "attempts" INTEGER,
    "problem_uploaded_at" TIMESTAMP,
    "exact_answer" INTEGER,
    "deadline" TIMESTAMP,
    "published_at" TIMESTAMP,
    "type" CHAR(512),
    "last_updated_at" TIMESTAMP
);
success!
timestamp: 2021-04-29T21:58:03.501543
CREATE TABLE "problem_topic"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "problem_id" INTEGER REFERENCES "problem" ("id") ON DELETE CASCADE  ,
    "topic_id" INTEGER REFERENCES "topic" ("id") ON DELETE CASCADE  
);
success!
timestamp: 2021-04-29T21:58:03.502633
CREATE TABLE "student_workspace"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "problem_id" INTEGER REFERENCES "problem" ("id") ON DELETE CASCADE  ,
    "student_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "content" TEXT,
    "attempt_left" INTEGER,
    "updated_at" TIMESTAMP
);
success!
timestamp: 2021-04-29T21:58:03.503877
CREATE TABLE "submission"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "problem_id" INTEGER REFERENCES "problem" ("id") ON DELETE CASCADE  ,
    "student_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "content" TEXT,
    "submitted_at" TIMESTAMP,
    "submission_category" INTEGER,
    "attempt" INTEGER
);
success!
timestamp: 2021-04-29T21:58:03.504974
CREATE TABLE "submission_verdict"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "submission_id" INTEGER REFERENCES "submission" ("id") ON DELETE CASCADE  ,
    "verdict" CHAR(512),
    "score" DOUBLE,
    "evaluated_at" TIMESTAMP
);
success!
timestamp: 2021-04-29T21:58:03.506273
CREATE TABLE "notification"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "message" TEXT,
    "recipients" TEXT,
    "generated_at" TIMESTAMP,
    "expire_at" TIMESTAMP,
    "type" CHAR(512),
    "type_id" INTEGER
);
success!
timestamp: 2021-04-29T21:58:03.507312
CREATE TABLE "global_value"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "variable" CHAR(512),
    "value" CHAR(512)
);
success!
timestamp: 2021-04-29T21:58:03.508382
CREATE TABLE "notification_queue"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "notification_id" INTEGER REFERENCES "notification" ("id") ON DELETE CASCADE  ,
    "user_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  
);
success!
timestamp: 2021-04-29T21:58:03.509436
CREATE TABLE "editor_notification_queue"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "notification_id" INTEGER REFERENCES "notification" ("id") ON DELETE CASCADE  ,
    "user_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  
);
success!
timestamp: 2021-04-29T21:58:03.510582
CREATE TABLE "discussion"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "message" TEXT,
    "code_snapshot" TEXT,
    "student_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "problem_id" INTEGER REFERENCES "problem" ("id") ON DELETE CASCADE  ,
    "author_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "status" CHAR(512),
    "posted_at" TIMESTAMP
);
success!
timestamp: 2021-04-29T21:58:03.511763
CREATE TABLE "comment"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "message" TEXT,
    "discussion_id" INTEGER REFERENCES "discussion" ("id") ON DELETE CASCADE  ,
    "author_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "posted_at" TIMESTAMP
);
success!
timestamp: 2021-04-29T21:58:03.513227
CREATE TABLE "comment_like"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "comment_id" INTEGER REFERENCES "comment" ("id") ON DELETE CASCADE  ,
    "discussion_id" INTEGER REFERENCES "discussion" ("id") ON DELETE CASCADE  ,
    "liked_by" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  ,
    "liked_at" TIMESTAMP
);
success!
timestamp: 2021-06-22T15:45:24.455885
CREATE TABLE "is_tutor"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "problem_id" INTEGER REFERENCES "problem" ("id") ON DELETE CASCADE  ,
    "student_id" INTEGER REFERENCES "auth_user" ("id") ON DELETE CASCADE  
);
success!
